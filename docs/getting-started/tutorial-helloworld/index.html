<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Tutorial - Hello World - Tempo Documentation</title>
  

  
  <link href='https://fonts.googleapis.com/css?family=Lato:400,700|Roboto+Slab:400,700|Inconsolata:400,700' rel='stylesheet' type='text/css'>

  <link rel="stylesheet" href="../../css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../../css/theme_extra.css" type="text/css" />
  <link rel="stylesheet" href="../../css/highlight.css">

  <script src="//cdnjs.cloudflare.com/ajax/libs/jquery/2.1.1/jquery.min.js"></script>
  <script src="//cdnjs.cloudflare.com/ajax/libs/modernizr/2.8.3/modernizr.min.js"></script>
  <script type="text/javascript" src="../../js/highlight.pack.js"></script>
  <script src="../../js/theme.js"></script>

  <style>
    body {font-size: 90%;}
    pre, code {font-size: 100%;}
    h3, h4, h5, h6 {color: #2980b9; font-weight: 300}
  </style> 
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
      <div class="wy-side-nav-search">
        <a href="../.." class="icon icon-home"> Tempo Documentation</a>
        
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
      <ul class="current">
    
        
        <span>Getting Started</span>
            
                <li class="toctree-l1 ">
                    <a class="" href="../quickstart">Quickstart</a>
                    
                </li>
            
                <li class="toctree-l1 current">
                    <a class="current" href=".">Tutorial - Hello World</a>
                    
                        <ul>
                        
                            <li class="toctree-l2"><a href="#tutorial-hello-world">Tutorial - Hello World</a></li>
                            
                                <li><a class="toctree-l3" href="#setting-up-the-project">Setting up the project</a></li>
                            
                                <li><a class="toctree-l3" href="#create-the-ui">Create the UI</a></li>
                            
                                <li><a class="toctree-l3" href="#create-cells-and-window-bindings">Create cells and window bindings</a></li>
                            
                                <li><a class="toctree-l3" href="#displaying-the-count">Displaying the count</a></li>
                            
                                <li><a class="toctree-l3" href="#updating-the-count">Updating the count</a></li>
                            
                                <li><a class="toctree-l3" href="#implementing-the-list">Implementing the list</a></li>
                            
                        
                        </ul>
                    
                </li>
            
                <li class="toctree-l1 ">
                    <a class="" href="../tutorial-todo-list">Tutorial - Todo List</a>
                    
                </li>
            
                <li class="toctree-l1 ">
                    <a class="" href="../about-video-capture">About the Video Capture Sample</a>
                    
                </li>
            
        

    
        
        <span>Integration</span>
            
                <li class="toctree-l1 ">
                    <a class="" href="../../integration/integrating-events">Integrating With External Events</a>
                    
                </li>
            
                <li class="toctree-l1 ">
                    <a class="" href="../../integration/integrating-threads">Integrating With Threads</a>
                    
                </li>
            
                <li class="toctree-l1 ">
                    <a class="" href="../../integration/integrating-wpf">Integrating With WPF</a>
                    
                </li>
            
        

    
        
        <span>Conceptual Documentation</span>
            
                <li class="toctree-l1 ">
                    <a class="" href="../../conceptual/overview">Overview</a>
                    
                </li>
            
                <li class="toctree-l1 ">
                    <a class="" href="../../conceptual/basic-operators">Basic Operators</a>
                    
                </li>
            
                <li class="toctree-l1 ">
                    <a class="" href="../../conceptual/cells">Cells</a>
                    
                </li>
            
                <li class="toctree-l1 ">
                    <a class="" href="../../conceptual/request-brokers">Request Brokers</a>
                    
                </li>
            
                <li class="toctree-l1 ">
                    <a class="" href="../../conceptual/reference-counting">Reference Counting</a>
                    
                </li>
            
                <li class="toctree-l1 ">
                    <a class="" href="../../conceptual/threading">Threading</a>
                    
                </li>
            
        

    
        
        <span>Reference</span>
            
                <li class="toctree-l1 ">
                    <a class="" href="../../reference-docs">Reference Documentation</a>
                    
                </li>
            
        

    
</ul>

      </div>
      &nbsp;
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="icon icon-reorder"></i>
        <a href="../.."></a>
      </nav>

      
      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../..">Docs</a> &raquo;</li>
    <li>Tutorial - Hello World</li>
      <li class="wy-breadcrumbs-aside">
        
      </li>
  </ul>
  <hr/>
</div>
          <div role="main">
            <div class="section">
              <h1 id="tutorial-hello-world">Tutorial - Hello World</h1>
<p>In this tutorial we'll create a simple WPF application with a single button. Each time the
button is clicked, a counter is incremented and a string is appended to a list. Not tremendously
exciting, but it covers some important basics:</p>
<ul>
<li>Setting up a new WPF project</li>
<li>Value and list cells</li>
<li>Binding to WPF dependency properties</li>
</ul>
<h2 id="setting-up-the-project">Setting up the project</h2>
<p>Follow the steps in the <a href="../quickstart">Quickstart</a> guide to get a skeleton project
up and running, then we can start building our UI.</p>
<h2 id="create-the-ui">Create the UI</h2>
<p>The UI needs three main widgets: a Button to handle click events, a TextBlock to display the
current count and and a ListView to display the list of strings. We'll put these in a simple
layout with the Button and TextBlock at the top, with the ListView filling the remainder of
the window. Replace the default Grid element in MainWindow.xaml with the following code:</p>
<pre><code>&lt;DockPanel LastChildFill=&quot;True&quot;&gt;
    &lt;StackPanel Height=&quot;30&quot; VerticalAlignment=&quot;Top&quot; DockPanel.Dock=&quot;Top&quot; Orientation=&quot;Horizontal&quot;&gt;
        &lt;Button x:Name=&quot;button&quot; Content=&quot;Click me&quot; Width=&quot;100&quot; /&gt;
        &lt;TextBlock x:Name=&quot;label&quot; Margin=&quot;10,6,0,0&quot; /&gt;
    &lt;/StackPanel&gt;
    &lt;ListView x:Name=&quot;listView&quot; /&gt;
&lt;/DockPanel&gt;
</code></pre>

<h2 id="create-cells-and-window-bindings">Create cells and window bindings</h2>
<p>The current state of the application will be maintained by two cells: a value cell holding an
integer for the current count, and a list cell containing string elements.</p>
<p>Change WhileRunning to include the two extra lines below:</p>
<pre><code>private void WhileRunning()
{
    var count = new MemoryCell&lt;int&gt;(0);
    var list = new ListCell&lt;string&gt;();

    var window = new MainWindow();
    window.Show();
}
</code></pre>

<p>To detect when the button is clicked, we will need to read the IsPressed property of the
button widget. We will also need to be able to write to the Text property of the TextBlock
widget to display the count. We will use the PropertyAdapter class to generate cell interfaces
for those properties:</p>
<pre><code>private void WhileRunning()
{
    var count = new MemoryCell&lt;int&gt;(0);
    var list = new ListCell&lt;string&gt;();

    var window = new MainWindow();
    window.Show();
    var buttonPressed = PropertyAdapter.Read&lt;bool&gt;(window.button, Button.IsPressedProperty);
    var labelWrite = PropertyAdapter.Write&lt;string&gt;(window.label, TextBlock.TextProperty);
}
</code></pre>

<h2 id="displaying-the-count">Displaying the count</h2>
<p>To display the count on the screen, we need to project the count cell onto a string.
We can use the Select extension method of <code>ICellRead&lt;T&gt;</code> as follows:</p>
<pre><code>var labelText = count.Select(x =&gt; x.ToString() + " clicks");
</code></pre>
<p>Now we can create a binding that will constrain the labelWrite cell to always be equal
to the value of labelText. This will keep the TextBlock's Text property up to date whenever
the value of <em>count</em> changes.</p>
<pre><code>labelText.Bind(labelWrite);
</code></pre>
<p>Running the application should show the label displaying "0 clicks".</p>
<h2 id="updating-the-count">Updating the count</h2>
<p>Changing the count cell requires triggering an imperative block. We can use the <em>When</em>
operator to invoke a block when the buttonPressed cell transitions from false to true.</p>
<pre><code>buttonPressed.WhenTrue(() =&gt;
{
    count.Cur++;
});
</code></pre>

<p>Now clicking the button should increment the count.</p>
<h2 id="implementing-the-list">Implementing the list</h2>
<p>Finally, clicking the button needs to add an element to the list cell, and a binding needs
to be set up to display the contents of the list cell in the list view. To handle adding
an element to the list, we can just modify the existing button click handler to call
list.Add(). <code>IListCellRead&lt;T&gt;</code> has an extension method <code>Bind</code> for binding to
an IList, so we can use this to bind to the Items property of the ListView. Including these
two new lines, the bindings and button handler should look like this:</p>
<pre><code>var labelText = count.Select(x =&gt; x.ToString() + &quot; clicks&quot;);
labelText.Bind(labelWrite);

list.Bind(window.listView.Items);

buttonPressed.WhenTrue(() =&gt;
{
    count.Cur++;
    list.Add(&quot;Hello World&quot;);
});
</code></pre>

<p>You can check out the full code for this tutorial in the HelloWorldSample project in the
Examples directory of the repository.</p>

            </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="../tutorial-todo-list" class="btn btn-neutral float-right" title="Tutorial - Todo List"/>Next <span class="icon icon-circle-arrow-right"></span></a>
      
      
        <a href="../quickstart" class="btn btn-neutral" title="Quickstart"><span class="icon icon-circle-arrow-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
    <!-- Copyright etc -->
    </p>
  </div>

  Built with <a href="http://www.mkdocs.org">MkDocs</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
</footer>
	  
        </div>
      </div>

    </section>

  </div>

<div class="rst-versions" role="note" style="cursor: pointer">
    <span class="rst-current-version" data-toggle="rst-current-version">
        
      <span><a href="../quickstart" style="color: #fcfcfc;">&laquo; Previous</a></span>
      <span style="margin-left: 15px"><a href="../tutorial-todo-list" style="color: #fcfcfc">Next &raquo;</a></span>
    </span>
</div>
</body>
</html>